<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LTerm_widget (lambda-term.LTerm_widget)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">lambda-term</a> &#x00BB; LTerm_widget</nav><h1>Module <code>LTerm_widget</code></h1><p>Widgets for creating applications</p><nav class="toc"><ul><li><a href="#base-class">Base class</a></li><li><a href="#labels">Labels</a></li><li><a href="#containers">Containers</a></li><li><a href="#lines">Lines</a></li><li><a href="#buttons">Buttons</a></li><li><a href="#scrollbars">Scrollbars</a></li><li><a href="#running-in-a-terminal">Running in a terminal</a></li></ul></nav></header><section><header><h6 id="base-class"><a href="#base-class" class="anchor"></a>Base class</h6></header><aside><p>The base class. The parameter is the initial resource class. The resource class is the first part of all resource keys used by the widget.</p><p>For examples, buttons use the resources <code>&quot;button.focused.foreground&quot;</code>, <code>&quot;button.unfocused.bold&quot;</code>, ... so their resource class is <code>&quot;button&quot;</code>.</p></aside><div class="spec class" id="class-t"><a href="#class-t" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-t/index.html">t</a> : string <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div></section><section><header><h6 id="labels"><a href="#labels" class="anchor"></a>Labels</h6></header><dl><dt class="spec class" id="class-label"><a href="#class-label" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-label/index.html">label</a> : string <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>A widget displaying a text.</p></dd></dl></section><section><header><h6 id="containers"><a href="#containers" class="anchor"></a>Containers</h6></header><dl><dt class="spec exception" id="exception-Out_of_range"><a href="#exception-Out_of_range" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Out_of_range</span></code></dt></dl><dl><dt class="spec class-type" id="class-type-box"><a href="#class-type-box" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-box/index.html">box</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Type of widgets displaying a list of widget.</p></dd></dl><dl><dt class="spec class" id="class-hbox"><a href="#class-hbox" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-hbox/index.html">hbox</a> : <a href="class-type-box/index.html">box</a></code></dt><dd><p>A widget displaying a list of widgets, listed horizontally.</p></dd></dl><dl><dt class="spec class" id="class-vbox"><a href="#class-vbox" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-vbox/index.html">vbox</a> : <a href="class-type-box/index.html">box</a></code></dt><dd><p>A widget displaying a list of widgets, listed vertically.</p></dd></dl><dl><dt class="spec class" id="class-frame"><a href="#class-frame" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-frame/index.html">frame</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>A widget displayiing another widget in a box.</p></dd></dl><dl><dt class="spec class" id="class-modal_frame"><a href="#class-modal_frame" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-modal_frame/index.html">modal_frame</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>A widget displaying a frame around child widget. Unlike <a href="class-frame/index.html"><code>frame</code></a>, the child widget is not expanded to take all available space; instead the child is centered and frame is drawn around it. This is a utility class for creation of modal dialogs and similar widgets.</p></dd></dl><dl><dt class="spec class" id="class-spacing"><a href="#class-spacing" class="anchor"></a><code><span class="keyword">class</span>  spacing : ?&#8288;rows:int <span>&#45;&gt;</span> ?&#8288;cols:int <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="class-t/index.html">t</a></code></dt><dd><p>A widget used for layout control within boxes</p></dd></dl></section><section><header><h6 id="lines"><a href="#lines" class="anchor"></a>Lines</h6></header><dl><dt class="spec class" id="class-hline"><a href="#class-hline" class="anchor"></a><code><span class="keyword">class</span>  hline : <a href="class-t/index.html">t</a></code></dt><dd><p>A horizontal line.</p></dd></dl><dl><dt class="spec class" id="class-vline"><a href="#class-vline" class="anchor"></a><code><span class="keyword">class</span>  vline : <a href="class-t/index.html">t</a></code></dt><dd><p>A vertical line.</p></dd></dl></section><section><header><h6 id="buttons"><a href="#buttons" class="anchor"></a>Buttons</h6></header><dl><dt class="spec class" id="class-button"><a href="#class-button" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-button/index.html">button</a> : ?&#8288;brackets:<span>(string * string)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Normal button.</p></dd></dl><dl><dt class="spec class" id="class-checkbutton"><a href="#class-checkbutton" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-checkbutton/index.html">checkbutton</a> : string <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Checkbutton. A button that can be in active or inactive state.</p></dd></dl><div class="spec class-type" id="class-type-radio"><a href="#class-type-radio" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span> 'a <a href="class-type-radio/index.html">radio</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec class" id="class-radiogroup"><a href="#class-radiogroup" class="anchor"></a><code><span class="keyword">class</span> 'a <a href="class-radiogroup/index.html">radiogroup</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Radio group.</p></dd></dl><dl><dt class="spec class" id="class-radiobutton"><a href="#class-radiobutton" class="anchor"></a><code><span class="keyword">class</span> 'a <a href="class-radiobutton/index.html">radiobutton</a> : <span><span class="type-var">'a</span> <a href="class-radiogroup/index.html">radiogroup</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Radiobutton. The button which implements <a href="class-type-radio/index.html"><code>radio</code></a> object contract, so can be added to <a href="class-radiogroup/index.html"><code>radiogroup</code></a>.</p></dd></dl></section><section><header><h6 id="scrollbars"><a href="#scrollbars" class="anchor"></a>Scrollbars</h6></header><dl><dt class="spec class" id="class-adjustment"><a href="#class-adjustment" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-adjustment/index.html">adjustment</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Adjustable integer value from (0..range-1)</p></dd></dl><dl><dt class="spec class-type" id="class-type-scrollable_adjustment"><a href="#class-type-scrollable_adjustment" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-scrollable_adjustment/index.html">scrollable_adjustment</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Interface between an adjustment and a scrollbar widget.</p></dd></dl><div class="spec class-type" id="class-type-scrollable_document"><a href="#class-type-scrollable_document" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-scrollable_document/index.html">scrollable_document</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec class-type" id="class-type-scrollable_private"><a href="#class-type-scrollable_private" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-scrollable_private/index.html">scrollable_private</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Interface used by the scrollbar widget to configure the scrollbar and get parameters needed for rendering</p></dd></dl><dl><dt class="spec class" id="class-scrollable"><a href="#class-scrollable" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-scrollable/index.html">scrollable</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Main object implementing scroll logic for coordination between a scrollable wigdet and a scrollbar widget.</p></dd></dl><dl><dt class="spec class-type" id="class-type-default_scroll_events"><a href="#class-type-default_scroll_events" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-default_scroll_events/index.html">default_scroll_events</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Events exposed by scrollbar widgets. These may be applied to other widgets if required.</p></dd></dl><dl><dt class="spec class" id="class-vscrollbar"><a href="#class-vscrollbar" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-vscrollbar/index.html">vscrollbar</a> : ?&#8288;rc:string <span>&#45;&gt;</span> ?&#8288;default_event_handler:bool <span>&#45;&gt;</span> ?&#8288;width:int <span>&#45;&gt;</span> <a href="class-scrollable/index.html">scrollable</a> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Vertical scrollbar widget.</p></dd></dl><dl><dt class="spec class" id="class-hscrollbar"><a href="#class-hscrollbar" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-hscrollbar/index.html">hscrollbar</a> : ?&#8288;rc:string <span>&#45;&gt;</span> ?&#8288;default_event_handler:bool <span>&#45;&gt;</span> ?&#8288;height:int <span>&#45;&gt;</span> <a href="class-scrollable/index.html">scrollable</a> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Horizontal scrollbar widget.</p></dd></dl><dl><dt class="spec class" id="class-vslider"><a href="#class-vslider" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-vslider/index.html">vslider</a> : int <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Vertical slider widget.</p></dd></dl><dl><dt class="spec class" id="class-hslider"><a href="#class-hslider" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-hslider/index.html">hslider</a> : int <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Horizontal slider widget.</p></dd></dl></section><section><header><h6 id="running-in-a-terminal"><a href="#running-in-a-terminal" class="anchor"></a>Running in a terminal</h6></header><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <a href="../LTerm/index.html#type-t">LTerm.t</a> <span>&#45;&gt;</span> <span>?&#8288;save_state:bool</span> <span>&#45;&gt;</span> <span>?&#8288;load_resources:bool</span> <span>&#45;&gt;</span> <span>?&#8288;resources_file:string</span> <span>&#45;&gt;</span> <a href="class-t/index.html">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dd><p><code>run term ?save_state widget w</code> runs on the given terminal using <code>widget</code> as main widget. It returns when <code>w</code> terminates. If <code>save_state</code> is <code>true</code> (the default) then the state of the terminal is saved and restored when <code>w</code> terminates.</p><p>If <code>load_resources</code> is <code>true</code> (the default) then <code>resources_file</code> (which default to &quot;.lambda-termrc&quot; in the home directory) is loaded and the result is set to <code>w</code>.</p></dd></dl><dl><dt class="spec value" id="val-run_modal"><a href="#val-run_modal" class="anchor"></a><code><span class="keyword">val</span> run_modal : <a href="../LTerm/index.html#type-t">LTerm.t</a> <span>&#45;&gt;</span> <span>?&#8288;save_state:bool</span> <span>&#45;&gt;</span> <span>?&#8288;load_resources:bool</span> <span>&#45;&gt;</span> <span>?&#8288;resources_file:string</span> <span>&#45;&gt;</span> <span><a href="class-t/index.html">t</a> Lwt_react.event</span> <span>&#45;&gt;</span> <span>unit Lwt_react.event</span> <span>&#45;&gt;</span> <a href="class-t/index.html">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dd><p>This function works in the same way as <a href="index.html#val-run"><code>run</code></a> but also takes two <span class="xref-unresolved" title="unresolved reference to &quot;Lwt_react.event&quot;"><code>Lwt_react</code>.event</span> parameters. The first one should contain <a href="class-t/index.html"><code>LTerm_widget.t</code></a> widget and makes it new topmost layer in UI. The second message removes the topmost level from UI. All layers are redrawn, from bottom to up, but only the topmost layer gets keyboard events delivered to it. This allows to implement things like modal dialogs.</p></dd></dl><dl><dt class="spec value" id="val-prepare_simple_run"><a href="#val-prepare_simple_run" class="anchor"></a><code><span class="keyword">val</span> prepare_simple_run : unit <span>&#45;&gt;</span> <span>(<a href="class-t/index.html">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> * <span>(<a href="class-t/index.html">t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit)</span> * <span>(<span>?&#8288;step:React.step</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit)</span> * <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span></code></dt><dd><p><code>prepare_simple_run ()</code> returns a tuple <code>(do_run, push_layer, pop_layer,
     exit)</code> -- functions useful for creating simple UI.</p><p><code>do_run w</code> where w is a widget runs the given widget in a terminal over stdout, loading resources from <code>.lambda-termrc</code>, saving state and restoring it on exit from ui. Example: <code>do_run my_frame</code></p><p><code>push_layer w</code> where w is a widget is a callback to add w as a new modal layer to UI. Example: <code>button#on_click (push_layer my_modal_dialog)</code>.</p><p><code>pop_layer</code> is a callback to destroy the topmost modal layer. Example: <code>cancel_button#on_click pop_layer</code>.</p><p><code>exit</code> is a callback to exit the UI. Example: <code>exit_button#on_click exit</code></p></dd></dl></section></div></body></html>
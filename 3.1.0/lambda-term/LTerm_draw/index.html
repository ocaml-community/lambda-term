<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LTerm_draw (lambda-term.LTerm_draw)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">lambda-term</a> &#x00BB; LTerm_draw</nav><h1>Module <code>LTerm_draw</code></h1><p>Drawing</p></header><dl><dt class="spec type" id="type-elem"><a href="#type-elem" class="anchor"></a><code><span class="keyword">type</span> elem</code><code> = </code><code>{</code><table class="record"><tr id="type-elem.char" class="anchored"><td class="def field"><a href="#type-elem.char" class="anchor"></a><code>char : Zed_char.t;</code></td><td class="doc"><p>The Zed_char.t character.</p></td></tr><tr id="type-elem.bold" class="anchored"><td class="def field"><a href="#type-elem.bold" class="anchor"></a><code>bold : bool;</code></td><td class="doc"><p>Whether the character is in bold or not.</p></td></tr><tr id="type-elem.underline" class="anchored"><td class="def field"><a href="#type-elem.underline" class="anchor"></a><code>underline : bool;</code></td><td class="doc"><p>Whether the character is underlined or not.</p></td></tr><tr id="type-elem.blink" class="anchored"><td class="def field"><a href="#type-elem.blink" class="anchor"></a><code>blink : bool;</code></td><td class="doc"><p>Whether the character is blinking or not.</p></td></tr><tr id="type-elem.reverse" class="anchored"><td class="def field"><a href="#type-elem.reverse" class="anchor"></a><code>reverse : bool;</code></td><td class="doc"><p>Whether the character is in reverse video mode or not.</p></td></tr><tr id="type-elem.foreground" class="anchored"><td class="def field"><a href="#type-elem.foreground" class="anchor"></a><code>foreground : <a href="../LTerm_style/index.html#type-color">LTerm_style.color</a>;</code></td><td class="doc"><p>The foreground color.</p></td></tr><tr id="type-elem.background" class="anchored"><td class="def field"><a href="#type-elem.background" class="anchor"></a><code>background : <a href="../LTerm_style/index.html#type-color">LTerm_style.color</a>;</code></td><td class="doc"><p>The background color.</p></td></tr></table><code>}</code></dt><dd><p>Type of a element in a matrix of styled characters.</p></dd></dl><dl><dt class="spec type" id="type-point'"><a href="#type-point'" class="anchor"></a><code><span class="keyword">type</span> point'</code><code> = </code><table class="variant"><tr id="type-point'.Elem" class="anchored"><td class="def constructor"><a href="#type-point'.Elem" class="anchor"></a><code>| </code><code><span class="constructor">Elem</span> <span class="keyword">of</span> <a href="index.html#type-elem">elem</a></code></td></tr><tr id="type-point'.WidthHolder" class="anchored"><td class="def constructor"><a href="#type-point'.WidthHolder" class="anchor"></a><code>| </code><code><span class="constructor">WidthHolder</span> <span class="keyword">of</span> int</code></td></tr></table></dt><dt class="spec type" id="type-point"><a href="#type-point" class="anchor"></a><code><span class="keyword">type</span> point</code><code> = <span><a href="index.html#type-point'">point'</a> Stdlib.ref</span></code></dt><dd><p>Type of a point in a matrix of styled characters.</p></dd></dl><dl><dt class="spec type" id="type-matrix"><a href="#type-matrix" class="anchor"></a><code><span class="keyword">type</span> matrix</code><code> = <span><span><a href="index.html#type-point">point</a> array</span> array</span></code></dt><dd><p>Type of a matrix of points. The matrix is indexed by lines then columns, i.e. to access the point at line <code>l</code> and column <code>c</code> in matrix <code>m</code> you should use <code>m.(l).(c)</code>.</p></dd></dl><dl><dt class="spec value" id="val-make_matrix"><a href="#val-make_matrix" class="anchor"></a><code><span class="keyword">val</span> make_matrix : <a href="../LTerm_geom/index.html#type-size">LTerm_geom.size</a> <span>&#45;&gt;</span> <a href="index.html#type-matrix">matrix</a></code></dt><dd><p><code>matrix size</code> creates a matrix of the given size containing only blank characters.</p></dd></dl><dl><dt class="spec value" id="val-set_style"><a href="#val-set_style" class="anchor"></a><code><span class="keyword">val</span> set_style : <a href="index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_style point style</code> sets fields of <code>point</code> according to fields of <code>style</code>. For example:</p><pre><code class="ml">set_style point { LTerm_style.none with LTerm_style.bold = Some true }</code></pre><p>will have the following effect:</p><pre><code class="ml">point.bold &lt;- true</code></pre></dd></dl><dl><dt class="spec type" id="type-context"><a href="#type-context" class="anchor"></a><code><span class="keyword">type</span> context</code></dt><dd><p>Type of contexts. A context is used for drawing.</p></dd></dl><dl><dt class="spec value" id="val-context"><a href="#val-context" class="anchor"></a><code><span class="keyword">val</span> context : <a href="index.html#type-matrix">matrix</a> <span>&#45;&gt;</span> <a href="../LTerm_geom/index.html#type-size">LTerm_geom.size</a> <span>&#45;&gt;</span> <a href="index.html#type-context">context</a></code></dt><dd><p><code>context m s</code> creates a context from a matrix <code>m</code> of size <code>s</code>. It raises <code>Invalid_argument</code> if <code>s</code> is not the size of <code>m</code>.</p></dd></dl><dl><dt class="spec exception" id="exception-Out_of_bounds"><a href="#exception-Out_of_bounds" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Out_of_bounds</span></code></dt><dd><p>Exception raised when trying to access a point that is outside the bounds of a context.</p></dd></dl><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <a href="../LTerm_geom/index.html#type-size">LTerm_geom.size</a></code></dt><dd><p><code>size ctx</code> returns the size of the given context.</p></dd></dl><dl><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <a href="../LTerm_geom/index.html#type-rect">LTerm_geom.rect</a> <span>&#45;&gt;</span> <a href="index.html#type-context">context</a></code></dt><dd><p><code>sub ctx rect</code> creates a sub-context from the given context. It raises <a href="index.html#exception-Out_of_bounds"><code>Out_of_bounds</code></a> if the rectangle is not contained in the given context.</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>clear ctx</code> clears the given context. It resets all styles to their default and sets characters to spaces.</p></dd></dl><dl><dt class="spec value" id="val-fill"><a href="#val-fill" class="anchor"></a><code><span class="keyword">val</span> fill : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> Zed_char.t <span>&#45;&gt;</span> unit</code></dt><dd><p><code>fill ctx ch</code> fills the given context with <code>ch</code>.</p></dd></dl><dl><dt class="spec value" id="val-fill_style"><a href="#val-fill_style" class="anchor"></a><code><span class="keyword">val</span> fill_style : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>fill_style style</code> fills the given context with <code>style</code>.</p></dd></dl><dl><dt class="spec value" id="val-point"><a href="#val-point" class="anchor"></a><code><span class="keyword">val</span> point : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-point">point</a></code></dt><dd><p><code>point ctx row column</code> returns the point at given position in <code>ctx</code>. It raises <a href="index.html#exception-Out_of_bounds"><code>Out_of_bounds</code></a> if the coordinates are outside the given context.</p></dd></dl><dl><dt class="spec value" id="val-draw_char_matrix"><a href="#val-draw_char_matrix" class="anchor"></a><code><span class="keyword">val</span> draw_char_matrix : <a href="index.html#type-matrix">matrix</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> Zed_char.t <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_char_matrix matrix row column ?style ch</code> sets the character at given coordinates to <code>ch</code>. It does nothing if the given coordinates are outside the bounds of the context.</p></dd></dl><dl><dt class="spec value" id="val-draw_char"><a href="#val-draw_char" class="anchor"></a><code><span class="keyword">val</span> draw_char : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> Zed_char.t <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_char ctx row column ?style ch</code> sets the character at given coordinates to <code>ch</code>. It does nothing if the given coordinates are outside the bounds of the context.</p></dd></dl><dl><dt class="spec value" id="val-draw_string"><a href="#val-draw_string" class="anchor"></a><code><span class="keyword">val</span> draw_string : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> Zed_string.t <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_string ctx row column ?style str</code> draws the given string at given coordinates. This does not affect styles. <code>str</code> may contains newlines.</p></dd></dl><dl><dt class="spec value" id="val-draw_styled"><a href="#val-draw_styled" class="anchor"></a><code><span class="keyword">val</span> draw_styled : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> <a href="../LTerm_text/index.html#type-t">LTerm_text.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_styled ctx row column ?style text</code> draws the given styled text at given coordinates.</p></dd></dl><dl><dt class="spec value" id="val-draw_string_aligned"><a href="#val-draw_string_aligned" class="anchor"></a><code><span class="keyword">val</span> draw_string_aligned : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../LTerm_geom/index.html#type-horz_alignment">LTerm_geom.horz_alignment</a> <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> Zed_string.t <span>&#45;&gt;</span> unit</code></dt><dd><p>Draws a string with the given alignment.</p></dd></dl><dl><dt class="spec value" id="val-draw_styled_aligned"><a href="#val-draw_styled_aligned" class="anchor"></a><code><span class="keyword">val</span> draw_styled_aligned : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../LTerm_geom/index.html#type-horz_alignment">LTerm_geom.horz_alignment</a> <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> <a href="../LTerm_text/index.html#type-t">LTerm_text.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Draws a styled string with the given aglienment.</p></dd></dl><dl><dt class="spec type" id="type-connection"><a href="#type-connection" class="anchor"></a><code><span class="keyword">type</span> connection</code><code> = </code><table class="variant"><tr id="type-connection.Blank" class="anchored"><td class="def constructor"><a href="#type-connection.Blank" class="anchor"></a><code>| </code><code><span class="constructor">Blank</span></code></td><td class="doc"><p>No connection.</p></td></tr><tr id="type-connection.Light" class="anchored"><td class="def constructor"><a href="#type-connection.Light" class="anchor"></a><code>| </code><code><span class="constructor">Light</span></code></td><td class="doc"><p>Connection with a light line.</p></td></tr><tr id="type-connection.Heavy" class="anchored"><td class="def constructor"><a href="#type-connection.Heavy" class="anchor"></a><code>| </code><code><span class="constructor">Heavy</span></code></td><td class="doc"><p>Connection with a heavy line.</p></td></tr></table></dt><dd><p>Type of an connection in a piece that can be connected to other pieces.</p></dd></dl><dl><dt class="spec type" id="type-piece"><a href="#type-piece" class="anchor"></a><code><span class="keyword">type</span> piece</code><code> = </code><code>{</code><table class="record"><tr id="type-piece.top" class="anchored"><td class="def field"><a href="#type-piece.top" class="anchor"></a><code>top : <a href="index.html#type-connection">connection</a>;</code></td></tr><tr id="type-piece.bottom" class="anchored"><td class="def field"><a href="#type-piece.bottom" class="anchor"></a><code>bottom : <a href="index.html#type-connection">connection</a>;</code></td></tr><tr id="type-piece.left" class="anchored"><td class="def field"><a href="#type-piece.left" class="anchor"></a><code>left : <a href="index.html#type-connection">connection</a>;</code></td></tr><tr id="type-piece.right" class="anchored"><td class="def field"><a href="#type-piece.right" class="anchor"></a><code>right : <a href="index.html#type-connection">connection</a>;</code></td></tr></table><code>}</code></dt><dd><p>Type of a piece, given by its four connection.</p></dd></dl><dl><dt class="spec value" id="val-draw_piece"><a href="#val-draw_piece" class="anchor"></a><code><span class="keyword">val</span> draw_piece : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-piece">piece</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Draws a piece. It may modify pieces around it.</p></dd></dl><dl><dt class="spec value" id="val-draw_hline"><a href="#val-draw_hline" class="anchor"></a><code><span class="keyword">val</span> draw_hline : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_hline ctx row column length connection</code> draws an horizontal line.</p></dd></dl><dl><dt class="spec value" id="val-draw_vline"><a href="#val-draw_vline" class="anchor"></a><code><span class="keyword">val</span> draw_vline : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_hline ctx row column length connection</code> draws a vertical line.</p></dd></dl><dl><dt class="spec value" id="val-draw_frame"><a href="#val-draw_frame" class="anchor"></a><code><span class="keyword">val</span> draw_frame : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <a href="../LTerm_geom/index.html#type-rect">LTerm_geom.rect</a> <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Draws a rectangle.</p></dd></dl><dl><dt class="spec value" id="val-draw_frame_labelled"><a href="#val-draw_frame_labelled" class="anchor"></a><code><span class="keyword">val</span> draw_frame_labelled : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <a href="../LTerm_geom/index.html#type-rect">LTerm_geom.rect</a> <span>&#45;&gt;</span> <span>?&#8288;style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;alignment:<a href="../LTerm_geom/index.html#type-horz_alignment">LTerm_geom.horz_alignment</a></span> <span>&#45;&gt;</span> Zed_string.t <span>&#45;&gt;</span> <a href="index.html#type-connection">connection</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Draws a rectangle with a label on the top row.</p></dd></dl></div></body></html>